- ## [[Socket.IO]]
	- #javascript #express #node.js
	- 提供客戶端與伺服器端雙向溝通的能力。
	- [Socket.IO](https://socket.io/get-started/chat#broadcasting)
	-
- ### The web framework
- 要使用Node.js 還有`Express`。
- 建立`package.json`程式碼如下。官方建議放在一個空資料夾內。
- ```Json
  {
    "name": "socket-chat-example",
    "version": "0.0.1",
    "description": "my first socket.io app",
    "dependencies": {}
  }
  ```
-
- 在資料夾的路徑內開啟powershell，並輸入 `npm install express@4`，在資料夾內安裝Expresss
-
- 建立一個index.js
- ```js
  const express = require('express');
  const app = express();
  const http = require('http');
  const server = http.createServer(app);
  const options = {
      // key: fs.readFileSync('這個網域的 ssl key 位置'),
      // cert: fs.readFileSync('這個網域的 ssl fullchain 位置')
  }
  
  app.get('/', (req, res) => {
    res.send('<h1>Hello world</h1>');
  });
  
  server.listen(3000, () => {
    console.log('listening on *:3000');
  });
  ```
- id:: 641d53a1-0953-4977-82b7-68af59fe991e
  |**Server 端**|**建立連線/事件傳送方向**|**Client 端**|
  |io.on(‘connection’, function (socket) {…})|建立連線|socket = io(“socket ip:port”)|
  |io.emit(“要對**所有** Client 廣播的事件名稱”, data)|———>|socket.on(“來自client 的事件名稱”, callback)|
  |socket.emit(“要對**當前連線**的 Client 發送的事件名稱”, data)|———>|socket.on(“來自client 的事件名稱”, callback)|
  |socket.on(“來自client 的事件名稱”, callback)|<———|socket.emit(“要對 server 發送的事件名稱”,data)|
- 在瀏覽器輸入`http://localhost:3000`
- ### Serving HTML
	-
	-